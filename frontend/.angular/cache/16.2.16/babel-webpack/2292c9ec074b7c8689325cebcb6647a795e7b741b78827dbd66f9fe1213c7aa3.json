{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class AuthService {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.serverUrl = \"http://localhost:5000/api/auth\";\n    this.loggedIn = new BehaviorSubject(this.hasToken());\n  }\n  login(email, password) {\n    const credentials = {\n      email: email,\n      password: password\n    };\n    return this.http.post(`${this.serverUrl}/login`, credentials);\n  }\n  logout() {\n    localStorage.removeItem('token');\n    this.loggedIn.next(false);\n    this.router.navigate(['/task']);\n  }\n  isLoggedIn() {\n    return this.loggedIn.asObservable();\n  }\n  getToken() {\n    return localStorage.getItem('token');\n  }\n  hasToken() {\n    return !!localStorage.getItem('token');\n  }\n  register(userData) {\n    return this.http.post(`${this.serverUrl}/register`, userData);\n  }\n  static {\n    this.ɵfac = function AuthService_Factory(t) {\n      return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AuthService,\n      factory: AuthService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["BehaviorSubject","AuthService","constructor","http","router","serverUrl","loggedIn","hasToken","login","email","password","credentials","post","logout","localStorage","removeItem","next","navigate","isLoggedIn","asObservable","getToken","getItem","register","userData","i0","ɵɵinject","i1","HttpClient","i2","Router","factory","ɵfac","providedIn"],"sources":["E:\\TaskManagementApplication\\frontend\\src\\app\\services\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from \"@angular/common/http\";\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n   serverUrl = \"http://localhost:5000/api/auth\";\n   private loggedIn = new BehaviorSubject<boolean>(this.hasToken());\n\n  constructor(private http: HttpClient,private router:Router) { }\n\n   login(email:string,password:string) {\n    const credentials={\n        email:email,\n        password:password}\n    return this.http.post(`${this.serverUrl}/login`,credentials);\n  }\n\n   logout(): void {\n    localStorage.removeItem('token');\n    this.loggedIn.next(false);\n   this.router.navigate(['/task'])\n    \n  }\n\n  isLoggedIn(): Observable<boolean> {\n    return this.loggedIn.asObservable();\n  }\n\n  getToken(): string | null {\n    return localStorage.getItem('token');\n  }\n\n  private hasToken(): boolean {\n    return !!localStorage.getItem('token');\n  }\n\n    register(userData: any): Observable<any> {\n    return this.http.post(`${this.serverUrl}/register`, userData);\n  }\n\n}\n\n\n "],"mappings":"AAEA,SAASA,eAAe,QAAoB,MAAM;;;;AAMlD,OAAM,MAAOC,WAAW;EAItBC,YAAoBC,IAAgB,EAASC,MAAa;IAAtC,KAAAD,IAAI,GAAJA,IAAI;IAAqB,KAAAC,MAAM,GAANA,MAAM;IAHlD,KAAAC,SAAS,GAAG,gCAAgC;IACpC,KAAAC,QAAQ,GAAG,IAAIN,eAAe,CAAU,IAAI,CAACO,QAAQ,EAAE,CAAC;EAEH;EAE7DC,KAAKA,CAACC,KAAY,EAACC,QAAe;IACjC,MAAMC,WAAW,GAAC;MACdF,KAAK,EAACA,KAAK;MACXC,QAAQ,EAACA;KAAS;IACtB,OAAO,IAAI,CAACP,IAAI,CAACS,IAAI,CAAC,GAAG,IAAI,CAACP,SAAS,QAAQ,EAACM,WAAW,CAAC;EAC9D;EAECE,MAAMA,CAAA;IACLC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChC,IAAI,CAACT,QAAQ,CAACU,IAAI,CAAC,KAAK,CAAC;IAC1B,IAAI,CAACZ,MAAM,CAACa,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;EAEhC;EAEAC,UAAUA,CAAA;IACR,OAAO,IAAI,CAACZ,QAAQ,CAACa,YAAY,EAAE;EACrC;EAEAC,QAAQA,CAAA;IACN,OAAON,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC;EACtC;EAEQd,QAAQA,CAAA;IACd,OAAO,CAAC,CAACO,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC;EACxC;EAEEC,QAAQA,CAACC,QAAa;IACtB,OAAO,IAAI,CAACpB,IAAI,CAACS,IAAI,CAAC,GAAG,IAAI,CAACP,SAAS,WAAW,EAAEkB,QAAQ,CAAC;EAC/D;;;uBAlCWtB,WAAW,EAAAuB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,MAAA;IAAA;EAAA;;;aAAX5B,WAAW;MAAA6B,OAAA,EAAX7B,WAAW,CAAA8B,IAAA;MAAAC,UAAA,EAFV;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}