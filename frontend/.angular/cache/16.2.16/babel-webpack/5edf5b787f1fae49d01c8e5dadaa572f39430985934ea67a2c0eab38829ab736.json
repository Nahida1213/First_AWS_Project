{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nrouter: Router;\nexport let AuthService = class AuthService {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.serverUrl = \"http://localhost:5000/api/auth\";\n    this.loggedIn = new BehaviorSubject(this.hasToken());\n  }\n  login(email, password) {\n    const credentials = {\n      email: email,\n      password: password\n    };\n    return this.http.post(`${this.serverUrl}/login`, credentials);\n  }\n  logout() {\n    localStorage.removeItem('token');\n    this.loggedIn.next(false);\n    this.router.navigate(['/task']);\n  }\n  isLoggedIn() {\n    return this.loggedIn.asObservable();\n  }\n  getToken() {\n    return localStorage.getItem('token');\n  }\n  hasToken() {\n    return !!localStorage.getItem('token');\n  }\n  register(userData) {\n    return this.http.post(`${this.serverUrl}/register`, userData);\n  }\n};\nAuthService = __decorate([Injectable({\n  providedIn: 'root'\n})], AuthService);","map":{"version":3,"names":["Injectable","BehaviorSubject","router","Router","AuthService","constructor","http","serverUrl","loggedIn","hasToken","login","email","password","credentials","post","logout","localStorage","removeItem","next","navigate","isLoggedIn","asObservable","getToken","getItem","register","userData","__decorate","providedIn"],"sources":["E:\\TaskManagementApplication\\frontend\\src\\app\\services\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from \"@angular/common/http\";\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { Route } from '@angular/router';\nprivate router: Router\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n   serverUrl = \"http://localhost:5000/api/auth\";\n   private loggedIn = new BehaviorSubject<boolean>(this.hasToken());\n\n  constructor(private http: HttpClient,private router:Route) { }\n\n   login(email:string,password:string) {\n    const credentials={\n        email:email,\n        password:password}\n    return this.http.post(`${this.serverUrl}/login`,credentials);\n  }\n\n   logout(): void {\n    localStorage.removeItem('token');\n    this.loggedIn.next(false);\n   this.router.navigate(['/task'])\n    \n  }\n\n  isLoggedIn(): Observable<boolean> {\n    return this.loggedIn.asObservable();\n  }\n\n  getToken(): string | null {\n    return localStorage.getItem('token');\n  }\n\n  private hasToken(): boolean {\n    return !!localStorage.getItem('token');\n  }\n\n    register(userData: any): Observable<any> {\n    return this.http.post(`${this.serverUrl}/register`, userData);\n  }\n\n}\n\n\n "],"mappings":";AAAA,SAASA,UAAU,QAAQ,eAAe;AAE1C,SAASC,eAAe,QAAoB,MAAM;AAE1CC,MAAM,EAAEC,MAAM;AAKf,WAAMC,WAAW,GAAjB,MAAMA,WAAW;EAItBC,YAAoBC,IAAgB,EAASJ,MAAY;IAArC,KAAAI,IAAI,GAAJA,IAAI;IAAqB,KAAAJ,MAAM,GAANA,MAAM;IAHlD,KAAAK,SAAS,GAAG,gCAAgC;IACpC,KAAAC,QAAQ,GAAG,IAAIP,eAAe,CAAU,IAAI,CAACQ,QAAQ,EAAE,CAAC;EAEJ;EAE5DC,KAAKA,CAACC,KAAY,EAACC,QAAe;IACjC,MAAMC,WAAW,GAAC;MACdF,KAAK,EAACA,KAAK;MACXC,QAAQ,EAACA;KAAS;IACtB,OAAO,IAAI,CAACN,IAAI,CAACQ,IAAI,CAAC,GAAG,IAAI,CAACP,SAAS,QAAQ,EAACM,WAAW,CAAC;EAC9D;EAECE,MAAMA,CAAA;IACLC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChC,IAAI,CAACT,QAAQ,CAACU,IAAI,CAAC,KAAK,CAAC;IAC1B,IAAI,CAAChB,MAAM,CAACiB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;EAEhC;EAEAC,UAAUA,CAAA;IACR,OAAO,IAAI,CAACZ,QAAQ,CAACa,YAAY,EAAE;EACrC;EAEAC,QAAQA,CAAA;IACN,OAAON,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC;EACtC;EAEQd,QAAQA,CAAA;IACd,OAAO,CAAC,CAACO,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC;EACxC;EAEEC,QAAQA,CAACC,QAAa;IACtB,OAAO,IAAI,CAACnB,IAAI,CAACQ,IAAI,CAAC,GAAG,IAAI,CAACP,SAAS,WAAW,EAAEkB,QAAQ,CAAC;EAC/D;CAED;AApCYrB,WAAW,GAAAsB,UAAA,EAHvB1B,UAAU,CAAC;EACV2B,UAAU,EAAE;CACb,CAAC,C,EACWvB,WAAW,CAoCvB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}